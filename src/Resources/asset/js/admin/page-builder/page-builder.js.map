{"version":3,"sources":["_column-edit.js","_column.js","_row.js","page-builder.js"],"names":["$","Phoenix","data","name","values","props","created","methods","edit","JSON","parse","stringify","$refs","modal","save","close","value","watch","computed","template","addons","options","content","Object","trigger","disable","remove","components","column","columns","drag","addNewColumn","push","getEmptyColumn","id","uniqid","html_class","align","valign","padding","margin","text_color","width","xs","md","lg","box_shadow","color","hoffset","voffset","blur","spread","border","style","radius","background","image","gradient","video","animation","duration","delay","getColumnWidth","columnOptions","underscore","join","handler","$emit","deep","PageBuilder","Vue","el","mounted","on","columnEdit","addNewRow","getEmptyRow","columnsChange","row","$event","label","title","text","element","font_size","font_weight","subtitle","html_id","fluid_row","no_gutter","getSaveValue"],"mappings":"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","file":"page-builder.js","sourcesContent":["/**\n * Part of earth project.\n *\n * @copyright  Copyright (C) 2018 ${ORGANIZATION}.\n * @license    __LICENSE__\n */\n\n$(() => {\n  Phoenix.data('component:column-edit', {\n    name: 'column-edit',\n\n    data() {\n      return {\n        values: {}\n      }\n    },\n\n    props: {\n    },\n\n    created() {\n    },\n\n    methods: {\n      edit(data) {\n        this.values = JSON.parse(JSON.stringify(data));\n\n        $(this.$refs.modal).modal('show');\n      },\n\n      save() {\n        $(this.$refs.modal).modal('hide');\n      },\n\n      close() {\n        this.value = {};\n      }\n    },\n\n    watch: {\n\n    },\n\n    computed: {\n\n    }\n  });\n});\n","/**\n * Part of earth project.\n *\n * @copyright  Copyright (C) 2018 ${ORGANIZATION}.\n * @license    __LICENSE__\n */\n\n$(() => {\n  Phoenix.data('component:column', {\n    name: 'column',\n    template: '#column-component-tmpl',\n\n    data() {\n      return {\n        addons: [],\n        options: {}\n      }\n    },\n\n    props: {\n      content: Object\n    },\n\n    created() {\n      this.addons = this.content.addons;\n      this.options = this.content.options;\n    },\n\n    methods: {\n      edit() {\n        Phoenix.trigger('column:edit', this.content);\n      },\n\n      disable() {\n\n      },\n\n      remove() {\n\n      }\n    },\n\n    watch: {\n\n    },\n\n    computed: {\n\n    }\n  });\n});\n","/**\r\n * Part of earth project.\r\n *\r\n * @copyright  Copyright (C) 2018 ${ORGANIZATION}.\r\n * @license    __LICENSE__\r\n */\r\n\r\n$(() => {\r\n  Phoenix.data('component:row', {\r\n    name: 'row',\r\n    template: '#row-component-tmpl',\r\n    components: {\r\n      column: Phoenix.data('component:column')\r\n    },\r\n\r\n    data() {\r\n      return {\r\n        columns: [],\r\n        options: {},\r\n        drag: false\r\n      }\r\n    },\r\n\r\n    props: {\r\n      content: Object\r\n    },\r\n\r\n    created() {\r\n      this.columns = this.content.columns;\r\n      this.options = this.content.options;\r\n    },\r\n\r\n    methods: {\r\n      addNewColumn() {\r\n        this.columns.push(this.getEmptyColumn());\r\n      },\r\n\r\n      getEmptyColumn() {\r\n        return {\r\n          id: 'col-' + Phoenix.uniqid(),\r\n          addons: [],\r\n          options: {\r\n            html_class: '',\r\n            align: 'center',\r\n            valign: 'top',\r\n            padding: '0',\r\n            margin: '0',\r\n            text_color: '',\r\n            width: {\r\n              xs: 'col-3',\r\n              md: 'col-md-3',\r\n              lg: 'col-lg-3',\r\n            },\r\n            box_shadow: {\r\n              color: '',\r\n              hoffset: '',\r\n              voffset: '',\r\n              blur: '',\r\n              spread: ''\r\n            },\r\n            border: {\r\n              width: '',\r\n              color: '',\r\n              style: '',\r\n              radius: ''\r\n            },\r\n            background: {\r\n              color: '',\r\n              image: '',\r\n              gradient: '',\r\n              video: ''\r\n            },\r\n            animation: {\r\n              name: '',\r\n              duration: 300,\r\n              delay: 0\r\n            }\r\n          }\r\n        };\r\n      },\r\n\r\n      getColumnWidth(columnOptions) {\r\n        return underscore.values(columnOptions.width).join(' ');\r\n      }\r\n    },\r\n\r\n    watch: {\r\n      // content() {\r\n      //   this.options = this.content.options;\r\n      //   this.columns = this.content.columns;\r\n      // },\r\n      columns: {\r\n        handler() {\r\n          this.$emit('columns-change', {columns: this.columns});\r\n        },\r\n        deep: true\r\n      }\r\n    },\r\n\r\n    computed: {\r\n\r\n    }\r\n  });\r\n});\r\n","/**\n * Part of earth project.\n *\n * @copyright  Copyright (C) 2018 ${ORGANIZATION}.\n * @license    __LICENSE__\n */\n\n$(() => {\n  const PageBuilder = new Vue({\n    el: '#page-builder',\n    data: {\n      content: Phoenix.data('builder-content') || [],\n      drag: false\n    },\n    components: {\n      'row': Phoenix.data('component:row'),\n      'column': Phoenix.data('component:column'),\n      'column-edit': Phoenix.data('component:column-edit'),\n    },\n    mounted() {\n      Phoenix.on('column:edit', content => {\n        this.$refs.columnEdit.edit(content);\n      });\n    },\n    methods: {\n      addNewRow() {\n        this.content.push(this.getEmptyRow());\n      },\n      columnsChange(row, $event) {\n        row.columns = $event.columns;\n      },\n      getEmptyRow() {\n        return {\n          id: 'row-' + Phoenix.uniqid(),\n          options: {\n            label: '',\n            title: {\n              text: '',\n              element: 'h3',\n              font_size: {\n                lg: '',\n                md: '',\n                xs: ''\n              },\n              font_weight: '',\n              color: '',\n              margin: ''\n            },\n            subtitle: {\n              text: '',\n              font_size: {\n                lg: '',\n                md: '',\n                xs: ''\n              }\n            },\n            html_id: '',\n            html_class: '',\n            align: 'center',\n            valign: 'top',\n            fluid_row: false,\n            no_gutter: false,\n            padding: '100px 0 100px 0',\n            margin: '0',\n            text_color: '',\n            background: {\n              color: '',\n              image: '',\n              gradient: '',\n              video: ''\n            },\n            animation: {\n              name: '',\n              duration: 300,\n              delay: 0\n            }\n          },\n          columns: [],\n        };\n      },\n      getSaveValue() {\n        return JSON.stringify(this.content);\n      }\n    },\n    watch: {\n\n    },\n    computed: {\n    }\n  });\n});\n"]}