"use strict";window.MultiUploader=Vue.extend({name:"multi-uploader",mounted:function(){$(this.$el).data("multi-uploader",this),this.$options.metaModal=$(this.$el).find(".c-multi-uploader-modal"),$(this.$el).trigger("multi-uploader:mounted")},updated:function(){},methods:{openFile:function(e){this.$options.openFileHandler?this.$options.openFileHandler(e):window.open(e.download_url||e.url)},itemClick:function(e,t,i){this.current=e,this.currentIndex=t,this.$options.metaModal.modal("show")},metaSave:function(){this.current={},this.currentIndex=null,this.$options.metaModal.modal("hide")},isImage:function(e){var t=e.split(".").pop().split("?").shift();return-1!==["png","jpeg","jpg","gif","bmp","webp"].indexOf(t)},dragover:function(e){this.canReUpload&&(this.$refs.dragarea.style.opacity=.75)},dragleave:function(e){this.canReUpload&&(this.$refs.dragarea.style.opacity=1)},drop:function(e){var t=this;if(this.canReUpload){this.$refs.dragarea.style.opacity=1;var i=this.current,a=e.dataTransfer.files[0];if(this.$refs.app.checkFile(a),this.$refs.app.canUpload){new FileReader;i.file=a;this.$refs.app.$refs[i.key][0];this.loading=!0,this.$refs.app.$refs[i.key][0].upload().always(function(){t.loading=!1})}}}},watch:{value:function(){}}});