{"version":3,"sources":["field/multi-uploader-field.js"],"names":["window","MultiUploader","Vue","extend","name","mounted","$","$el","data","$options","metaModal","find","trigger","updated","methods","openFile","item","openFileHandler","open","download_url","url","itemClick","i","event","current","currentIndex","modal","metaSave","isImage","ext","split","pop","shift","allow","indexOf","watch","value"],"mappings":";;AAAA;;;;;;AAOAA,MAAM,CAACC,aAAP,GAAuBC,GAAG,CAACC,MAAJ,CAAW;AAChCC,EAAAA,IAAI,EAAE,gBAD0B;AAEhCC,EAAAA,OAFgC,qBAEtB;AACRC,IAAAA,CAAC,CAAC,KAAKC,GAAN,CAAD,CAAYC,IAAZ,CAAiB,gBAAjB,EAAmC,IAAnC;AAEA,SAAKC,QAAL,CAAcC,SAAd,GAA0BJ,CAAC,CAAC,KAAKC,GAAN,CAAD,CAAYI,IAAZ,CAAiB,yBAAjB,CAA1B;AAEAL,IAAAA,CAAC,CAAC,KAAKC,GAAN,CAAD,CAAYK,OAAZ,CAAoB,wBAApB;AACD,GAR+B;AAShCC,EAAAA,OATgC,qBAStB,CAET,CAX+B;AAYhCC,EAAAA,OAAO,EAAE;AACPC,IAAAA,QADO,oBACEC,IADF,EACQ;AACb,UAAI,KAAKP,QAAL,CAAcQ,eAAlB,EAAmC;AACjC,aAAKR,QAAL,CAAcQ,eAAd,CAA8BD,IAA9B;AACD,OAFD,MAEO;AACLhB,QAAAA,MAAM,CAACkB,IAAP,CAAYF,IAAI,CAACG,YAAL,IAAqBH,IAAI,CAACI,GAAtC;AACD;AACF,KAPM;AASPC,IAAAA,SATO,qBASGL,IATH,EASSM,CATT,EASYC,KATZ,EASmB;AACxB,WAAKC,OAAL,GAAeR,IAAf;AACA,WAAKS,YAAL,GAAoBH,CAApB;AAEA,WAAKb,QAAL,CAAcC,SAAd,CAAwBgB,KAAxB,CAA8B,MAA9B;AACD,KAdM;AAgBPC,IAAAA,QAhBO,sBAgBI;AACT,WAAKH,OAAL,GAAe,EAAf;AACA,WAAKC,YAAL,GAAoB,IAApB;AAEA,WAAKhB,QAAL,CAAcC,SAAd,CAAwBgB,KAAxB,CAA8B,MAA9B;AACD,KArBM;AAuBPE,IAAAA,OAvBO,mBAuBCR,GAvBD,EAuBM;AACX,UAAMS,GAAG,GAAGT,GAAG,CAACU,KAAJ,CAAU,GAAV,EAAeC,GAAf,GAAqBD,KAArB,CAA2B,GAA3B,EAAgCE,KAAhC,EAAZ;AAEA,UAAMC,KAAK,GAAG,CACZ,KADY,EAEZ,MAFY,EAGZ,KAHY,EAIZ,KAJY,EAKZ,KALY,EAMZ,MANY,CAAd;AASA,aAAOA,KAAK,CAACC,OAAN,CAAcL,GAAd,MAAuB,CAAC,CAA/B;AACD;AApCM,GAZuB;AAkDhCM,EAAAA,KAAK,EAAE;AACLC,IAAAA,KADK,mBACG,CACP;AAFI;AAlDyB,CAAX,CAAvB","sourcesContent":["/**\n * Part of earth project.\n *\n * @copyright  Copyright (C) 2020 .\n * @license    __LICENSE__\n */\n\nwindow.MultiUploader = Vue.extend({\n  name: 'multi-uploader',\n  mounted() {\n    $(this.$el).data('multi-uploader', this);\n\n    this.$options.metaModal = $(this.$el).find('.c-multi-uploader-modal');\n\n    $(this.$el).trigger('multi-uploader:mounted');\n  },\n  updated() {\n\n  },\n  methods: {\n    openFile(item) {\n      if (this.$options.openFileHandler) {\n        this.$options.openFileHandler(item);\n      } else {\n        window.open(item.download_url || item.url);\n      }\n    },\n\n    itemClick(item, i, event) {\n      this.current = item;\n      this.currentIndex = i;\n\n      this.$options.metaModal.modal('show');\n    },\n\n    metaSave() {\n      this.current = {};\n      this.currentIndex = null;\n\n      this.$options.metaModal.modal('hide');\n    },\n\n    isImage(url) {\n      const ext = url.split('.').pop().split('?').shift();\n\n      const allow = [\n        'png',\n        'jpeg',\n        'jpg',\n        'gif',\n        'bmp',\n        'webp',\n      ];\n\n      return allow.indexOf(ext) !== -1;\n    }\n  },\n  watch: {\n    value() {\n    }\n  }\n});\n"],"file":"multi-uploader-field.js"}